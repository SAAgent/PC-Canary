{
    "task_id": "20",
    "task_name": "create_prism_with_stepped_hole",
    "description": "Create a triangular prism with a stepped hole in FreeCAD",

    "application_info": {
        "name": "FreeCAD",
        "executable_path": "/usr/local/bin/FreeCAD",
        "args": []
    },

    "task_parameters": {
        "source_path": "/FreeCAD/",
        "filename": "task20.FCStd",
        "prism_circumradius": 35.0,
        "prism_height": 40.0,
        "hole_inner_radius": 5.0,
        "hole_outer_radius": 10.0,
        "hole_depth": 15.0,
        "inner_hole_through": true
    },

    "instruction_template": "The application is already open. In FreeCAD, create a triangular prism with an equilateral triangle as its base, with a circumradius of ${prism_circumradius}mm and a height of ${prism_height}mm. Then add a stepped hole in the center of its top face. The stepped hole consists of two parts: an inner small hole with a radius of ${hole_inner_radius}mm that goes through the entire prism, and an outer larger hole with a radius of ${hole_outer_radius}mm that extends from the top face to a depth of ${hole_depth}mm. The triangular prism can be created by 'create an additive prism' (typeid), and the stepped hole should be created using subtractive cylinders (typeid). Do not create the shapes separately and use boolean subtraction or cut. Finally, save the file to ${source_path}${filename}",

    "evaluation_setup": {
        "scripts": [
            { "role": "hook", "path": "hooker.js" },
            { "role": "handler", "path": "handler.py" }
        ],
        "timeout": 300,
        "evaluator_type": "HookManager"
    },
    "preconditions": {
        "freecad_running": false
    },
    "total_key_steps": 2,
    "events": {
        "script_initialized": {
            "description": "Hook script initialized",
            "is_key_step": false
        },
        "function_found": {
            "description": "Document save function found",
            "is_key_step": false
        },
        "function_called": {
            "description": "Document save function called",
            "is_key_step": true,
            "key_step_index": 1,
            "key_step_name": "Document saved"
        },
        "function_key_word_detected": {
            "description": "Detected key content in saved document",
            "is_key_step": true,
            "key_step_index": 2,
            "key_step_name": "Created triangular prism with stepped hole and saved successfully"
        },
        "error": {
            "description": "Error event",
            "is_key_step": false
        }
    },
    "mcp_servers": [
        {
            "command": "python3",
            "args": ["/home/agent/.local/share/FreeCAD/Mod/freecad_mcp/src/freecad_bridge.py"]
        }
    ]
}
