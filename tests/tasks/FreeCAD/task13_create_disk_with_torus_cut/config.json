{
    "task_id": "13",
    "task_name": "create_disk_with_torus_cut",
    "description": "Create a disk with a toroidal groove in FreeCAD",

    "application_info": {
        "name": "FreeCAD",
        "executable_path": "/usr/local/bin/FreeCAD",
        "args": []
    },

    "task_parameters": {
        "source_path": "/FreeCAD/",
        "filename": "task13.FCStd",
        "disk_radius": 30.0,
        "disk_height": 10.0,
        "torus_radius1": 20.0,
        "torus_radius2": 5.0,
        "torus_angle1": 0.0,
        "torus_angle2": 0.0,
        "torus_angle3": 360.0
    },

    "instruction_template": "The application is already open. Create a disk in FreeCAD with radius ${disk_radius}mm and height ${disk_height}mm, then create a toroidal groove on its top surface. The toroidal groove's major radius (Radius1) is ${torus_radius1}mm, minor radius (Radius2) is ${torus_radius2}mm, with angle parameters Angle1=${torus_angle1} degrees, Angle2=${torus_angle2} degrees, and Angle3=${torus_angle3} degrees, defaulting to a complete toroidal groove. The groove depth on the disk equals the minor radius. The disk should be created using 'create an additive cylinder' (typeid), and the toroidal groove should be created using 'create subtractive torus' (typeid). Do not create the shapes separately and use boolean subtraction. Finally, save the file to ${source_path}${filename}",

    "evaluation_setup": {
        "scripts": [
            { "role": "hook", "path": "hooker.js" },
            { "role": "handler", "path": "handler.py" }
        ],
        "timeout": 300,
        "evaluator_type": "HookManager"
    },
    "preconditions": {
        "freecad_running": false
    },
    "total_key_steps": 2,
    "events": {
        "script_initialized": {
            "description": "Hook script initialized",
            "is_key_step": false
        },
        "function_found": {
            "description": "Save document function found",
            "is_key_step": false
        },
        "function_called": {
            "description": "Save document function called",
            "is_key_step": true,
            "key_step_index": 1,
            "key_step_name": "Save document"
        },
        "function_key_word_detected": {
            "description": "Save document key content detected",
            "is_key_step": true,
            "key_step_index": 2,
            "key_step_name": "Disk with toroidal groove created and saved successfully"
        },
        "error": {
            "description": "Error event",
            "is_key_step": false
        }
    },
    "mcp_servers": [
        {
            "command": "python3",
            "args": ["/home/agent/.local/share/FreeCAD/Mod/freecad_mcp/src/freecad_bridge.py"]
        }
    ]
}
